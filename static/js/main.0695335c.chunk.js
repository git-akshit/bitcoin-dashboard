(this.webpackJsonpbitcoin=this.webpackJsonpbitcoin||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a(19)},,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(7),s=a.n(r),c=(a(13),a(1)),o=a(2),l=a(3),h=a(4),u=a(5),v=a.n(u),m=(a(15),a(16),function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={hoverLoc:null,activePoint:null},n}return Object(o.a)(a,[{key:"getX",value:function(){var e=this.props.data;return{min:e[0].x,max:e[e.length-1].x}}},{key:"getY",value:function(){var e=this.props.data;return{min:e.reduce((function(e,t){return t.y<e?t.y:e}),e[0].y),max:e.reduce((function(e,t){return t.y>e?t.y:e}),e[0].y)}}},{key:"getSvgX",value:function(e){var t=this.props,a=t.svgWidth,n=t.yLabelSize;return n+e/this.getX().max*(a-n)}},{key:"getSvgY",value:function(e){var t=this.props,a=t.svgHeight,n=t.xLabelSize,i=this.getY();return((a-n)*i.max-(a-n)*e)/(i.max-i.min)}},{key:"makePath",value:function(){var e=this,t=this.props,a=t.data,n=t.color,r="M "+this.getSvgX(a[0].x)+" "+this.getSvgY(a[0].y)+" ";return r+=a.map((function(t,a){return"L "+e.getSvgX(t.x)+" "+e.getSvgY(t.y)+" "})).join(""),i.a.createElement("path",{className:"linechart_path",d:r,style:{stroke:n}})}},{key:"makeArea",value:function(){var e=this,t=this.props.data,a="M "+this.getSvgX(t[0].x)+" "+this.getSvgY(t[0].y)+" ";a+=t.map((function(t,a){return"L "+e.getSvgX(t.x)+" "+e.getSvgY(t.y)+" "})).join("");var n=this.getX(),r=this.getY();return a+="L "+this.getSvgX(n.max)+" "+this.getSvgY(r.min)+" L "+this.getSvgX(n.min)+" "+this.getSvgY(r.min)+" ",i.a.createElement("path",{className:"linechart_area",d:a})}},{key:"makeAxis",value:function(){var e=this.props.yLabelSize,t=this.getX(),a=this.getY();return i.a.createElement("g",{className:"linechart_axis"},i.a.createElement("line",{x1:this.getSvgX(t.min)-e,y1:this.getSvgY(a.min),x2:this.getSvgX(t.max),y2:this.getSvgY(a.min),strokeDasharray:"5"}),i.a.createElement("line",{x1:this.getSvgX(t.min)-e,y1:this.getSvgY(a.max),x2:this.getSvgX(t.max),y2:this.getSvgY(a.max),strokeDasharray:"5"}))}},{key:"makeLabels",value:function(){var e=this.props,t=e.svgHeight,a=e.svgWidth,n=e.xLabelSize,r=e.yLabelSize;return i.a.createElement("g",{className:"linechart_label"},i.a.createElement("text",{transform:"translate(".concat(r/2,", 20)"),textAnchor:"middle"},this.getY().max.toLocaleString("us-EN",{style:"currency",currency:"USD"})),i.a.createElement("text",{transform:"translate(".concat(r/2,", ").concat(t-n-5,")"),textAnchor:"middle"},this.getY().min.toLocaleString("us-EN",{style:"currency",currency:"USD"})),i.a.createElement("text",{transform:"translate(".concat(r,", ").concat(t,")"),textAnchor:"start"},this.props.data[0].d),i.a.createElement("text",{transform:"translate(".concat(a,", ").concat(t,")"),textAnchor:"end"},this.props.data[this.props.data.length-1].d))}},{key:"getCoords",value:function(e){var t=this,a=this.props,n=a.svgWidth,i=a.data,r=a.yLabelSize,s=document.getElementsByClassName("linechart")[0].getBoundingClientRect(),c=(s.width-n)/2,o=e.clientX-s.left-c,l=[];i.map((function(e,a){l.push({svgX:t.getSvgX(e.x),svgY:t.getSvgY(e.y),d:e.d,p:e.p})}));for(var h={},u=0,v=500;u<l.length;u++)Math.abs(l[u].svgX-this.state.hoverLoc)<=v&&(v=Math.abs(l[u].svgX-this.state.hoverLoc),h=l[u]);o-r<0?this.stopHover():(this.setState({hoverLoc:o,activePoint:h}),this.props.onChartHover(o,h))}},{key:"stopHover",value:function(){this.setState({hoverLoc:null,activePoint:null}),this.props.onChartHover(null,null)}},{key:"makeActivePoint",value:function(){var e=this.props,t=e.color,a=e.pointRadius;return i.a.createElement("circle",{className:"linechart_point",style:{stroke:t},r:a,cx:this.state.activePoint.svgX,cy:this.state.activePoint.svgY})}},{key:"createLine",value:function(){var e=this.props,t=e.svgHeight,a=e.xLabelSize;return i.a.createElement("line",{className:"hoverLine",x1:this.state.hoverLoc,y1:-8,x2:this.state.hoverLoc,y2:t-a})}},{key:"render",value:function(){var e=this,t=this.props,a=t.svgHeight,n=t.svgWidth;return i.a.createElement("svg",{width:n,height:a,viewBox:"0 0 ".concat(n," ").concat(a),className:"linechart",onMouseLeave:function(){return e.stopHover()},onMouseMove:function(t){return e.getCoords(t)}},i.a.createElement("g",null,this.makeAxis(),this.makePath(),this.makeArea(),this.makeLabels(),this.state.hoverLoc?this.createLine():null,this.state.hoverLoc?this.makeActivePoint():null))}}]),a}(n.Component));m.defaultProps={data:[],color:"#2196F3",pointRadius:5,svgHeight:500,svgWidth:1100,xLabelSize:20,yLabelSize:80};var g=m,d=(a(17),function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.hoverLoc,a=e.activePoint,n=document.getElementsByClassName("linechart")[0].getBoundingClientRect(),r={};return r.width="100px",r.left=t+n.left-50,i.a.createElement("div",{className:"hover",style:r},i.a.createElement("div",{className:"date"},a.d),i.a.createElement("div",{className:"price"},a.p))}}]),a}(n.Component)),p=(a(18),function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={currentPrice:null,monthChangeD:null,monthChangeP:null,updatedAt:null},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getData=function(){var t=e.props.data;fetch("https://api.coindesk.com/v1/bpi/currentprice.json").then((function(e){return e.json()})).then((function(a){var n=a.bpi.USD.rate_float,i=n-t[0].y,r=(n-t[0].y)/t[0].y*100;e.setState({currentPrice:a.bpi.USD.rate_float,monthChangeD:i.toLocaleString("us-EN",{style:"currency",currency:"USD"}),monthChangeP:r.toFixed(2)+"%",updatedAt:a.time.updated})})).catch((function(e){console.log(e)}))},this.getData(),this.refresh=setInterval((function(){return e.getData()}),9e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.refresh)}},{key:"render",value:function(){return i.a.createElement("div",{id:"data-container"},this.state.currentPrice?i.a.createElement("div",{id:"left",className:"box"},i.a.createElement("div",{className:"heading"},this.state.currentPrice.toLocaleString("us-EN",{style:"currency",currency:"USD"})),i.a.createElement("div",{className:"subtext"},"Updated "+v()(this.state.updatedAt).fromNow())):null,this.state.currentPrice?i.a.createElement("div",{id:"middle",className:"box"},i.a.createElement("div",{className:"heading"},this.state.monthChangeD),i.a.createElement("div",{className:"subtext"},"Change Since Last Month (USD)")):null,i.a.createElement("div",{id:"right",className:"box"},i.a.createElement("div",{className:"heading"},this.state.monthChangeP),i.a.createElement("div",{className:"subtext"},"Change Since Last Month (%)")))}}]),a}(n.Component)),f=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={fetchingData:!0,data:null,hoverLoc:null,activePoint:null},n}return Object(o.a)(a,[{key:"handleChartHover",value:function(e,t){this.setState({hoverLoc:e,activePoint:t})}},{key:"componentDidMount",value:function(){var e=this;fetch("https://api.coindesk.com/v1/bpi/historical/close.json").then((function(e){return e.json()})).then((function(t){var a=[],n=0;for(var i in t.bpi)a.push({d:v()(i).format("MMM DD"),p:t.bpi[i].toLocaleString("us-EN",{style:"currency",currency:"USD"}),x:n,y:t.bpi[i]}),n++;e.setState({data:a,fetchingData:!1})})).catch((function(e){console.log(e)}));var t={event:"message",data:{operation:"subscribe",options:{currency:"BTCUSD",symbol_set:"global"}}};this.ws=new WebSocket("wss://apiv2.bitcoinaverage.com/websocket/ticker"),this.ws.onopen=function(){e.ws.send(JSON.stringify(t))},this.ws.onmessage=function(e){var t=JSON.parse(e.data);console.log(t),t.event,console.log(t)}}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row"},i.a.createElement("h1",null,"30 Day Bitcoin Price Chart")),i.a.createElement("div",{className:"row"},this.state.fetchingData?null:i.a.createElement(p,{data:this.state.data})),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"popup"},this.state.hoverLoc?i.a.createElement(d,{hoverLoc:this.state.hoverLoc,activePoint:this.state.activePoint}):null)),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"chart"},this.state.fetchingData?null:i.a.createElement(g,{data:this.state.data,onChartHover:function(t,a){return e.handleChartHover(t,a)}}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{id:"coindesk"}," Powered by ",i.a.createElement("a",{href:"http://www.coindesk.com/price/"},"CoinDesk"))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.0695335c.chunk.js.map